{"version":3,"sources":["style/App.module.scss","style/MovieList.module.scss","style/MovieInfo.module.scss","components/MovieCard.js","components/MovieList.js","config.js","components/MovieInfo.js","App.js","reportWebVitals.js","index.js","style/MovieCard.module.scss"],"names":["module","exports","MovieCard","props","className","styles","movieCard","onClick","tmdbApi","movie_id","renewData","posterBox","poster_path","notFound","alt","src","basicInfo","year","titleEn","film_name_en","titleZh","film_name_zh","MovieList","MovieCards","CannesFilm","filter","obj","prize","sort","a","b","map","data","th","atmovie_link","imdb_link","movieList","apiKey","MovieInfo","d","s","id","js","stags","getElementsByTagName","getElementById","createElement","parentNode","insertBefore","document","movieId","localData","imdbLink","videoSrc","content","tmdbData","title","data-user","data-title","data-style","href","target","rel","runtime","overview","movieInfo","firebase","initializeApp","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","App","useState","setPrize","setData","selectFilmList","e","btnValue","value","console","log","selectPrize","movieFilter","type","blank","container","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","responseText","onerror","statusText","send","then","response","JSON","parse","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ccc17fd0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"App_d-flex__3aH8q\",\"d-block\":\"App_d-block__10dw2\",\"d-none\":\"App_d-none__8tkdO\",\"align-item-center\":\"App_align-item-center__2k6Pc\",\"container\":\"App_container__2UgfS\",\"movieFilter\":\"App_movieFilter__3FLUP\",\"blank\":\"App_blank__2DqrZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"MovieList_d-flex__3d-bO\",\"d-block\":\"MovieList_d-block__NEVGa\",\"d-none\":\"MovieList_d-none__1QQ1W\",\"align-item-center\":\"MovieList_align-item-center__1HQ4S\",\"movieList\":\"MovieList_movieList__2k0OY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"MovieInfo_d-flex__3-MOP\",\"d-block\":\"MovieInfo_d-block__1ciDL\",\"d-none\":\"MovieInfo_d-none__16Zcf\",\"align-item-center\":\"MovieInfo_align-item-center__IOKz6\",\"movieInfo\":\"MovieInfo_movieInfo__Fgw8N\"};","import React from \"react\";\nimport styles from \"../style/MovieCard.module.scss\";\n\nfunction MovieCard(props) {\n   return (\n      <div\n         className={styles.movieCard}\n         key={props.movie_id}\n         onClick={() => {\n            props.tmdbApi(props.movie_id);\n            props.renewData(props);\n         }}\n      >\n         <div className={styles.posterBox}>\n            {props.poster_path === null ? (\n               // if poster_path was null\n               <div className={styles.notFound}>\n                  <p>poster not found</p>\n               </div>\n            ) : (\n               // if data has poster_path, then render the picture\n               <img alt=\"poster\" src={`http://image.tmdb.org/t/p/w342${props.poster_path}`} />\n            )}\n         </div>\n\n         <div className={styles.basicInfo}>\n            <div>{props.year}</div>\n            <div className={styles.titleEn}>{props.film_name_en}</div>\n            <div className={styles.titleZh}>{props.film_name_zh}</div>\n         </div>\n      </div>\n   );\n}\n\nexport default MovieCard;\n","import React from \"react\";\nimport styles from \"../style/MovieList.module.scss\";\nimport MovieCard from \"./MovieCard\";\nimport CannesFilm from \"../CannesFilm.json\";\n// import CannesFilm from \"./CannesFilm.json\";\n\n// TODO: change different film-list by json\nfunction MovieList(props) {\n   const MovieCards = (\n      <div>\n         {CannesFilm\n            // choose certian prize\n            .filter((obj) => obj.prize === props.prize)\n            // sort the data by year\n            .sort((a, b) => (a.year > b.year ? 1 : -1))\n            // render each\n            .map((data) => (\n               <MovieCard\n                  renewData={props.renewData}\n                  tmdbApi={props.tmdbApi}\n                  key={data.movie_id}\n                  th={data.th}\n                  year={data.year}\n                  prize={data.prize}\n                  atmovie_link={data.atmovie_link}\n                  imdb_link={data.imdb_link}\n                  movie_id={data.movie_id}\n                  film_name_zh={data.film_name_zh}\n                  film_name_en={data.film_name_en}\n                  poster_path={data.poster_path}\n               />\n            ))}\n      </div>\n   );\n\n   return (\n      <div>\n         <div className={styles.movieList}>{MovieCards}</div>\n      </div>\n   );\n}\n\nexport default MovieList;\n","// firebase SDK\nexport const config = {\n  apiKey: \"AIzaSyBmbHqONy7XHhbAJgi7XI8Zb6xrKcDQ9NM\",\n  authDomain: \"film-db-9936d.firebaseapp.com\",\n  databaseURL: \"https://film-db-9936d.firebaseio.com\",\n  projectId: \"film-db-9936d\",\n  storageBucket: \"film-db-9936d.appspot.com\",\n  messagingSenderId: \"340728739287\",\n  appId: \"1:340728739287:web:6a5a212fc24c2cd1b18792\",\n};\n\n// TMDb api key\nexport const apiKey = \"5c27dca1cd4fca2cefc5c8945cfb1974\";\n","import React from \"react\";\nimport styles from \"../style/MovieInfo.module.scss\";\nimport { apiKey } from \"../config.js\";\n\nfunction MovieInfo(props) {\n   // FIXME: fix imdb rating function\n   (function (d, s, id) {\n      var js,\n         stags = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) {\n         return;\n      }\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"https://ia.media-imdb.com/images/G/01/imdb/plugins/rating/js/rating.js\";\n      stags.parentNode.insertBefore(js, stags);\n   })(document, \"script\", \"imdb-rating-api\");\n\n   let movieId = props.localData.movie_id;\n   let imdbLink = `https://www.imdb.com/title/${props.localData.movie_id}/?ref_=plg_rt_1`;\n   let videoSrc = `https://api.themoviedb.org/3/movie/${props.localData.movie_id}/videos?api_key=${apiKey}`;\n\n   const content = (\n      <div>\n         <span>\n            {props.localData.th}th {props.localData.prize}({props.localData.year})\n         </span>\n         <h3>{props.tmdbData.title}</h3>\n         <h3>{props.localData.film_name_zh}</h3>\n\n         <iframe title=\"Trailer\" src={videoSrc}></iframe>\n\n         {/* imdb rating plugin */}\n         <span className=\"imdbRatingPlugin\" data-user=\"ur88737754\" data-title={movieId} data-style=\"p3\">\n            <a href={imdbLink}>\n               <img\n                  src=\"https://ia.media-imdb.com/images/G/01/imdb/plugins/rating/images/imdb_37x18.png\"\n                  alt=\"IMDb-logo\"\n               />\n            </a>\n         </span>\n         <a href={props.localData.imdb_link} target=\"_blank\" rel=\"noreferrer\">\n            IMDb\n         </a>\n         <a href={props.localData.atmovie_link} target=\"_blank\" rel=\"noreferrer\">\n            開眼電影\n         </a>\n\n         <div>{props.tmdbData.runtime} min</div>\n         <div>\n            Overview: <br /> {props.tmdbData.overview}{\" \"}\n         </div>\n      </div>\n   );\n\n   return <div className={styles.movieInfo}>{movieId ? content : \"\"}</div>;\n}\n\nexport default MovieInfo;\n","import \"./App.scss\";\nimport styles from \"./style/App.module.scss\";\n// import CannesFilm from \"./CannesFilm.json\";\n// import MovieCard from \"./components/MovieCard\";\nimport MovieList from \"./components/MovieList\";\nimport MovieInfo from \"./components/MovieInfo\";\nimport React, { useState } from \"react\";\n// import app from \"firebase/app\";\nimport firebase from \"firebase\";\nimport { config, apiKey } from \"./config\";\nimport \"firebase/firestore\";\n\nfirebase.initializeApp(config);\n\nfunction App() {\n   //  const db = firebase.firestore();\n   const [prize, setPrize] = useState(\"palme_d_or\");\n   //  const [title, setTitle] = useState(\"123\");\n   const [tmdbData, setData] = useState(\"\");\n   const [localData, renewData] = useState(\"\");\n   //  const [filmList, setFilmList] = useState({ CannesFilm });\n   //  const cannesFilm = { CannesFilm };\n\n   //  TODO: change different film list by JSON\n   function selectFilmList(e) {\n      let btnValue = e.target.value;\n      // setFilmList(btnValue);\n      console.log(btnValue);\n   }\n\n   function selectPrize(e) {\n      let btnValue = e.target.value;\n      setPrize(btnValue);\n      console.log(btnValue);\n   }\n\n   //  get tmdb movie detail\n   function tmdbApi(movie_id) {\n      return new Promise((resolve, reject) => {\n         let xhr = new XMLHttpRequest();\n         xhr.open(\"GET\", `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${apiKey}`);\n         xhr.onload = () => resolve(xhr.responseText);\n         xhr.onerror = () => reject(xhr.statusText);\n         xhr.send();\n      })\n         .then((response) => JSON.parse(response))\n         .then(setData);\n   }\n\n   //  get movie id & data\n   //  function readData() {\n   //     console.log(value);\n   //     let ref = db.collection(\"cannes_film\").doc(\"palme_d_or\");\n\n   //     ref.get().then((doc) => {\n   //        setData(doc.data()[value]);\n   //        let movieId = posterData[\"movie_id\"];\n   //        console.log(movieId);\n   //        tmdbApi(movieId);\n   //        console.log(\"OK\");\n   //        setTitleZh(posterData[\"film_name_zh\"]);\n   //        setTitleEn(posterData[\"film_name_en\"]);\n   //     });\n   //  }\n\n   return (\n      <div>\n         <div className={styles.movieFilter}>\n            <div>\n               <button type=\"button\" value=\"cannesFilm\" onClick={selectFilmList}>\n                  坎城影展\n               </button>\n               <button type=\"button\" value=\"berlinFilm\" onClick={selectFilmList}>\n                  柏林影展\n               </button>\n               <button type=\"button\" value=\"veniceFilm\" onClick={selectFilmList}>\n                  威尼斯影展\n               </button>\n               <button type=\"button\" value=\"oscarFilm\" onClick={selectFilmList}>\n                  奧斯卡金像獎\n               </button>\n               <button type=\"button\" value=\"goldenHorseFilm\" onClick={selectFilmList}>\n                  金馬影展\n               </button>\n            </div>\n\n            <div>\n               <button type=\"button\" value=\"palme_d_or\" onClick={selectPrize}>\n                  Palme d'Or 金棕櫚獎\n               </button>\n               <button type=\"button\" value=\"un_certain_regard\" onClick={selectPrize}>\n                  Un Certain Regard 一種注目\n               </button>\n            </div>\n         </div>\n         <div className={styles.blank}></div>\n         <div className={styles.container}>\n            <MovieList prize={prize} selectPrize={selectPrize} tmdbApi={tmdbApi} renewData={renewData} />\n            <MovieInfo tmdbData={tmdbData} localData={localData} />\n         </div>\n      </div>\n   );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"MovieCard_d-flex__ITEBp\",\"d-block\":\"MovieCard_d-block__ge0-I\",\"d-none\":\"MovieCard_d-none__3tc-S\",\"align-item-center\":\"MovieCard_align-item-center__2O8oq\",\"movieCard\":\"MovieCard_movieCard__35WND\",\"posterBox\":\"MovieCard_posterBox__1ehaO\",\"notFound\":\"MovieCard_notFound__3u0Ms\",\"basicInfo\":\"MovieCard_basicInfo__3cJ3h\",\"titleEn\":\"MovieCard_titleEn__Enwv9\",\"titleZh\":\"MovieCard_titleZh__22XOv\"};"],"sourceRoot":""}