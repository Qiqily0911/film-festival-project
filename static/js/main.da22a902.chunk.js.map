{"version":3,"sources":["style/MovieCard.module.scss","style/YearList.module.scss","style/App.module.scss","style/MovieFilter.module.scss","components/MovieCard.js","components/YearList.js","components/MovieInfo.js","components/MovieFilter.js","components/ControlSlider.js","App.js","config.js","reportWebVitals.js","index.js","style/MovieInfo.module.scss"],"names":["module","exports","MovieCard","props","prize","className","styles","noData","posterBox","movieCard","onClick","movieId","movie_id","tmdbApi","omdbApi","renewData","poster_path","notFound","alt","src","basicInfo","i","j","k","ordinalSuffix","th","titleEn","film_name_en","titleZh","film_name_zh","YearList","useState","showList","setShowList","close","e","order","Number","target","dataset","arr","listState","length","splice","setlistState","console","log","title","map","data","fesTitle","closeBox","data-order","prize_name","useEffect","showYearList","yearlist","yearbox","undefined","list","find","ref","yearListRefs","year","yearBox","data-index","atmovie_link","imdb_link","nanoid","min","setMin","subContainer","titleBox","yearListBox","yearList","MovieInfo","videoSrc","setvideoSrc","castList","setCastList","isOpen","setOpen","imageList","setImageList","localData","videoPath","tmdbVideo","results","images","tmdbImages","backdrops","casts","tmdbCredits","cast","youtubeUrl","key","b","path","file_path","c","castBox","filter","person","castPic","profile_path","noPic","name","credit_id","content","imageBox","infoBox","tmdbData","rating","omdbData","imdbRating","imdbVotes","videoBtn","videoDiv","closeBtn","id","type","width","height","frameBorder","href","rel","runtime","overview","movieInfo","MovieFilter","subBtnVal","setSubBtnVal","mainBtn","value","btnText","selectFilmList","subBtnData","cannes","source","subBtnValue","subBtnText","oscar","goldenHorse","btnValue","setFilmList","selectPrize","filmList","btnSelect","innerText","film_list","newListState","alert","movieFilter","data-title","ControlSilder","refs","setRefs","minYear","verticalLabels","0","100","formatPc","p","Math","floor","vertical","orientation","labels","handleLabel","format","onChange","setVertical","onChangeComplete","num","current","scrollIntoView","behavior","block","offsetHeight","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","App","initListState","setData","setVideo","setImages","setCredits","setomdbData","imdbSpan","setRating","setList","setPrize","item","push","reduce","acc","React","createRef","fes","obj","forEach","filmPrize","fillYearList","outter","logo","container","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","responseText","onerror","statusText","send","then","response","JSON","parse","onreadystatechange","readyState","DONE","status","a","doc","DOMParser","parseFromString","getElementsByTagName","x","getAttribute","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da22a902.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"MovieCard_d-flex__ITEBp\",\"d-block\":\"MovieCard_d-block__ge0-I\",\"d-none\":\"MovieCard_d-none__3tc-S\",\"align-item-center\":\"MovieCard_align-item-center__2O8oq\",\"movieCard\":\"MovieCard_movieCard__35WND\",\"posterBox\":\"MovieCard_posterBox__1ehaO\",\"notFound\":\"MovieCard_notFound__3u0Ms\",\"basicInfo\":\"MovieCard_basicInfo__3cJ3h\",\"titleEn\":\"MovieCard_titleEn__Enwv9\",\"titleZh\":\"MovieCard_titleZh__22XOv\",\"noData\":\"MovieCard_noData__299c1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"YearList_d-flex__6N-er\",\"d-block\":\"YearList_d-block__1HzCj\",\"d-none\":\"YearList_d-none__3vu0a\",\"align-item-center\":\"YearList_align-item-center__-pWBs\",\"titleBox\":\"YearList_titleBox__1SyAn\",\"fesTitle\":\"YearList_fesTitle__8iDIY\",\"closeBox\":\"YearList_closeBox__3NxtS\",\"subContainer\":\"YearList_subContainer__1WxZN\",\"yearListBox\":\"YearList_yearListBox__3sKLY\",\"yearList\":\"YearList_yearList__tYYDe\",\"yearBox\":\"YearList_yearBox__3gMTS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"App_d-flex__3aH8q\",\"d-block\":\"App_d-block__10dw2\",\"d-none\":\"App_d-none__8tkdO\",\"align-item-center\":\"App_align-item-center__2k6Pc\",\"outter\":\"App_outter__37YLO\",\"logo\":\"App_logo__xg9xG\",\"sliderContainer\":\"App_sliderContainer__n68WN\",\"track\":\"App_track__2mViS\",\"thumb\":\"App_thumb__3XUDN\",\"container\":\"App_container__2UgfS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"MovieFilter_d-flex__31uhg\",\"d-block\":\"MovieFilter_d-block__2mtRk\",\"d-none\":\"MovieFilter_d-none__NNTUB\",\"align-item-center\":\"MovieFilter_align-item-center__3gBd_\",\"movieFilter\":\"MovieFilter_movieFilter__PC5oW\"};","import React from \"react\";\nimport styles from \"../style/MovieCard.module.scss\";\n\nfunction MovieCard(props) {\n   function ordinalSuffix(i) {\n      var j = i % 10,\n         k = i % 100;\n      if (j === 1 && k !== 11) {\n         return i + \"st\";\n      }\n      if (j === 2 && k !== 12) {\n         return i + \"nd\";\n      }\n      if (j === 3 && k !== 13) {\n         return i + \"rd\";\n      }\n      return i + \"th\";\n   }\n\n   if (props.prize === null) {\n      return (\n         <div className={styles.noData}>\n            <div className={styles.posterBox}></div>not found\n         </div>\n      );\n   } else {\n      return (\n         <div\n            className={styles.movieCard}\n            key={props.movie_id}\n            onClick={() => {\n               let movieId = props.movie_id;\n               props.tmdbApi(\"\", movieId);\n               props.tmdbApi(\"/videos\", movieId);\n               props.tmdbApi(\"/images\", movieId);\n               props.tmdbApi(\"/credits\", movieId);\n\n               props.omdbApi(movieId);\n               props.renewData(props);\n               // FIXME: can work but slow\n               //  props.imdbRating(movieId);\n            }}\n         >\n            <div className={styles.posterBox}>\n               {props.poster_path === null ? (\n                  // if poster_path was null\n                  <div className={styles.notFound}>\n                     <p>poster not found</p>\n                  </div>\n               ) : (\n                  // if data has poster_path, then render the picture\n                  <img alt=\"poster\" src={`https://image.tmdb.org/t/p/w342${props.poster_path}`} />\n               )}\n            </div>\n\n            <div className={styles.basicInfo}>\n               <div>{ordinalSuffix(props.th)}</div>\n               <div className={styles.titleEn}>{props.film_name_en}</div>\n               <div className={styles.titleZh}>{props.film_name_zh}</div>\n            </div>\n         </div>\n      );\n   }\n}\n\nexport default MovieCard;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"../style/YearList.module.scss\";\nimport MovieCard from \"./MovieCard\";\nimport { nanoid } from \"nanoid\";\n\nfunction YearList(props) {\n  const [showList, setShowList] = useState(\"\");\n  function close(e) {\n    let order = Number(e.target.dataset.order);\n    let arr = [...props.listState];\n\n    if (order === 0) {\n      if (arr.length === 1) {\n        arr.splice(order, 1);\n        props.setlistState(arr);\n        return;\n      } else {\n        arr[1].order = 0;\n        if (arr.length === 3) {\n          arr[2].order = 1;\n        }\n      }\n    } else if (order === 1) {\n      if (arr.length === 3) {\n        arr[2].order = 1;\n      }\n    }\n\n    arr.splice(order, 1);\n    console.log(arr);\n    props.setlistState(arr);\n  }\n\n  const title = props.listState.map((data) => (\n    <div className={styles.fesTitle}>\n      <div className={styles.closeBox} onClick={close} data-order={data.order}>\n        X\n      </div>\n      {data.title} <span>{data.prize_name}</span>\n    </div>\n  ));\n\n  useEffect(() => {\n    const showYearList = props.yearlist.map((yearbox) => {\n      const moviePrize = yearbox.list.map((data) => data[0].prize);\n\n      if (moviePrize.find((data) => data !== null) === undefined) {\n        return null;\n      } else {\n        return (\n          <div\n            key={nanoid()}\n            ref={props.yearListRefs[yearbox.year]}\n            className={styles.yearBox}\n            data-index={yearbox.year}\n          >\n            {yearbox.list.map((data) => {\n              return (\n                <MovieCard\n                  renewData={props.renewData}\n                  tmdbApi={props.tmdbApi}\n                  omdbApi={props.omdbApi}\n                  //  imdbRating={props.imdbRating}\n                  key={nanoid()}\n                  th={data[0].th}\n                  year={data[0].year}\n                  prize={data[0].prize}\n                  atmovie_link={data[0].atmovie_link}\n                  imdb_link={data[0].imdb_link}\n                  movie_id={data[0].movie_id}\n                  film_name_zh={data[0].film_name_zh}\n                  film_name_en={data[0].film_name_en}\n                  poster_path={data[0].poster_path}\n                />\n              );\n            })}\n          </div>\n        );\n      }\n    });\n    // console.log(showYearList);\n    // console.log(props.listState.length);\n\n    // find the min year of yearList\n    if (props.listState.length !== 0) {\n      for (let i = showYearList.length; i > 0; i--) {\n        if (showYearList[i] !== undefined) {\n          if (showYearList[i] !== null) {\n            // console.log(i);\n            let min = showYearList[i].props[\"data-index\"];\n            console.log(min);\n            props.setMin(min);\n            break;\n          }\n        }\n      }\n    }\n\n    setShowList(showYearList);\n  }, [props.yearlist]);\n\n  return (\n    <div className={styles.subContainer}>\n      <div className={styles.titleBox}>{title}</div>\n\n      <div className={styles.yearListBox}>\n        <div className={styles.yearList}>{showList}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default YearList;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"../style/MovieInfo.module.scss\";\nimport { nanoid } from \"nanoid\";\n\nfunction MovieInfo(props) {\n   const [videoSrc, setvideoSrc] = useState(\"\");\n\n   const [castList, setCastList] = useState(\"\");\n   const [isOpen, setOpen] = useState(false);\n   const [imageList, setImageList] = useState(\"\");\n\n   let movieId = props.localData.movie_id;\n   let videoPath = props.tmdbVideo.results;\n   let images = props.tmdbImages.backdrops;\n   let casts = props.tmdbCredits.cast;\n\n   useEffect(() => {\n      if (videoPath !== undefined && images !== undefined && casts !== undefined) {\n         if (videoPath[0] !== undefined) {\n            // FIXME: content_security_policy setting\n            let youtubeUrl = `https://www.youtube.com/embed/${videoPath[0].key}?enablejsapi=1`;\n            setvideoSrc(youtubeUrl);\n         } else {\n            setvideoSrc(\" \");\n         }\n\n         if (casts[0] !== undefined) {\n            setCastList(casts);\n         }\n\n         if (images[0] !== undefined) {\n            const b = images.map((path) => (\n               <img key={nanoid()} alt=\"backdrops\" src={`https://image.tmdb.org/t/p/w780${path.file_path}`} />\n            ));\n            // console.log(images[0]);\n            setImageList(b);\n         } else {\n            const c = (\n               <div className={styles.notFound}>\n                  <p>poster not found</p>\n               </div>\n            );\n\n            setImageList(c);\n         }\n      }\n   }, [props.tmdbVideo, props.tmdbImages, props.tmdbCredits, movieId, casts, images, videoPath]);\n\n   // show casts\n   const castBox = (\n      <div className={styles.castBox}>\n         {castList\n            ? castList\n                 .filter((person) => person.order <= 4)\n                 .map((person) => (\n                    <div className={styles.castPic} key={person.credit_id}>\n                       {person.profile_path ? (\n                          <img alt=\"profile\" src={`https://image.tmdb.org/t/p/w154${person.profile_path}`} />\n                       ) : (\n                          <div className={styles.noPic}>not found</div>\n                       )}\n\n                       <p> {person.name}</p>\n                    </div>\n                 ))\n            : \"\"}\n      </div>\n   );\n\n   //  let btn = e.currentTarget;\n   //  if (props.tmdbVideo.results[0] !== undefined) {\n   //     setOpen(true);\n   //     if (btn.className.includes(`${styles.noVideo}`)) {\n   //        btn.classList.toggle(`${styles.noVideo}`);\n   //     }\n   //  } else {\n   //     btn.classList.add(`${styles.noVideo}`);\n   //  }\n\n   const content = (\n      <div>\n         <div className={styles.imageBox}>{imageList}</div>\n\n         <div className={styles.infoBox}>\n            <span>\n               {props.localData.th}th {props.localData.prize}({props.localData.year})\n            </span>\n            <h3>{props.tmdbData.title}</h3>\n            <h3>{props.localData.film_name_zh}</h3>\n\n            {/* --------------- rating -------------- */}\n            <div className={styles.rating}>\n               {/* <span>{props.imdbSpan[0]} /10</span>\n               <span>{props.imdbSpan[1]} votes</span> */}\n\n               <span>{props.omdbData.imdbRating} /10</span>\n               <span>{props.omdbData.imdbVotes} votes</span>\n            </div>\n\n            {/* --------------- trailer -------------- */}\n            <div\n               className={styles.videoBtn}\n               onClick={() => {\n                  if (props.tmdbVideo.results[0] !== undefined) {\n                     setOpen(true);\n                  }\n               }}\n            >\n               Trailer\n            </div>\n\n            {/* --------------- trailer iframe -------------- */}\n            {isOpen ? (\n               <div className={styles.videoDiv}>\n                  <div>\n                     <div className={styles.closeBtn} onClick={() => setOpen(false)}>\n                        x\n                     </div>\n                     <iframe\n                        title=\"trailer\"\n                        id=\"ytplayer\"\n                        type=\"text/html\"\n                        width=\"640\"\n                        height=\"360\"\n                        frameBorder=\"0\"\n                        src={videoSrc}\n                     ></iframe>\n                  </div>\n               </div>\n            ) : (\n               \"\"\n            )}\n\n            {/* --------------- movie link -------------- */}\n            <a href={props.localData.imdb_link} target=\"_blank\" rel=\"noreferrer\">\n               IMDb\n            </a>\n            <a href={props.localData.atmovie_link} target=\"_blank\" rel=\"noreferrer\">\n               開眼電影\n            </a>\n\n            <div>{props.tmdbData.runtime} min</div>\n            <div>{props.tmdbData.overview} </div>\n\n            {/* --------------- casts -------------- */}\n            <div>\n               <span>Cast:</span>\n               {castBox}\n            </div>\n         </div>\n      </div>\n   );\n\n   return <div className={styles.movieInfo}>{movieId ? content : \"\"}</div>;\n}\n\nexport default MovieInfo;\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"../style/MovieFilter.module.scss\";\nimport { nanoid } from \"nanoid\";\nimport oscar from \"../oscar_best_film.json\";\nimport cannes from \"../CannesFilm.json\";\nimport goldenHorse from \"../golden_horse_best_film.json\";\n\nfunction MovieFilter(props) {\n  const [subBtnVal, setSubBtnVal] = useState(\"\");\n\n  //  useEffect(()=>{})\n  // 主要按鈕\n  const mainBtnData = [\n    {\n      value: \"cannes\",\n      btnText: \"坎城影展\",\n    },\n    {\n      value: \"oscar\",\n      btnText: \"奧斯卡金像獎\",\n    },\n    {\n      value: \"goldenHorse\",\n      btnText: \"金馬影展\",\n    },\n  ];\n\n  //  render main button\n  const mainBtn = mainBtnData.map((data) => (\n    <button\n      key={nanoid()}\n      type=\"button\"\n      value={data.value}\n      onClick={selectFilmList}\n    >\n      {data.btnText}\n    </button>\n  ));\n\n  const subBtnData = {\n    cannes: {\n      source: cannes,\n      title: \"坎城影展\",\n      arr: [\n        { subBtnValue: \"palme_d_or\", subBtnText: \"Palme d'Or 金棕櫚獎\" },\n        {\n          subBtnValue: \"un_certain_regard\",\n          subBtnText: \"Un Certain Regard 一種注目\",\n        },\n      ],\n    },\n    oscar: {\n      source: oscar,\n      title: \"奧斯卡金像獎\",\n      arr: [{ subBtnValue: \"best_film\", subBtnText: \"Best Film 最佳影片\" }],\n    },\n    goldenHorse: {\n      source: goldenHorse,\n      title: \"金馬獎\",\n      arr: [\n        { subBtnValue: \"best_film\", subBtnText: \"Best Film 最佳影片\" },\n        {\n          subBtnValue: \"best_actress\",\n          subBtnText: \"Best actress 最佳女主角\",\n        },\n      ],\n    },\n  };\n\n  // 選擇影展，並設定影展值（filmList）\n  function selectFilmList(e) {\n    let btnValue = e.target.value;\n\n    //   console.log(btnValue);\n\n    // 按鈕切換\n    switch (btnValue) {\n      case \"cannes\":\n        setSubBtnVal(\"cannes\");\n        break;\n\n      case \"oscar\":\n        setSubBtnVal(\"oscar\");\n        break;\n\n      case \"goldenHorse\":\n        setSubBtnVal(\"goldenHorse\");\n        break;\n\n      default:\n        setSubBtnVal(\"\");\n    }\n\n    props.setFilmList(subBtnData[btnValue].source);\n  }\n\n  // 選擇獎項，並設定獎項值（prize）\n  function selectPrize(e) {\n    let btnValue = e.target.value;\n\n    // console.log(listState);\n    // 若filmList、prize不為空值，將當前值傳入obj，並push進listState 裡\n\n    if (props.filmList !== \"\") {\n      let btnSelect = {\n        title: e.target.dataset.title,\n        prize_name: e.target.innerText,\n        film_list: props.filmList,\n        prize: btnValue,\n        order: props.yearlist[0].list.length,\n      };\n      //若 listState 中超過三個清單，則不加入 listState\n      if (props.listState.length < 3) {\n        const newListState = [...props.listState, btnSelect];\n        props.setlistState(newListState);\n        // renderListState();\n      } else {\n        alert(\"!!\");\n      }\n      // reset btn value\n      props.setFilmList(\"\");\n    }\n\n    // 關掉獎項按鈕\n    setSubBtnVal(\"\");\n  }\n\n  return (\n    <div className={styles.movieFilter}>\n      {mainBtn}\n      <div>\n        {subBtnVal === \"\" ? (\n          <div></div>\n        ) : (\n          subBtnData[subBtnVal].arr.map((data) => (\n            <button\n              key={nanoid()}\n              type=\"button\"\n              onClick={selectPrize}\n              value={data.subBtnValue}\n              data-title={subBtnData[subBtnVal].title}\n            >\n              {data.subBtnText}\n            </button>\n          ))\n        )}\n      </div>\n      {/* <button onClick={scrollTo}>click</button> */}\n    </div>\n  );\n}\n\nexport default MovieFilter;\n","import React, { useEffect, useState } from \"react\";\n// Using an ES6 transpiler like Babel\nimport Slider from \"react-rangeslider\";\n\n// To include the default styles\nimport \"react-rangeslider/lib/index.css\";\n// import styles from \"../style/App.module.scss\";\n\nfunction ControlSilder(props) {\n  //  componentDidMount() {\n  //     console.log(this.props.yearListRefs);\n  //     console.log(this.myInput.current.offsetHeight);\n  //     console.log(typeof this.myInput);\n  //  }\n\n  const [refs, setRefs] = useState(\"\");\n\n  useEffect(() => {\n    // console.log(props.yearListRefs);\n    setRefs(props.yearListRefs);\n    console.log(props.minYear);\n  }, [props.yearListRefs]);\n\n  function handleChangeVertical(value) {\n    if (value !== props.vertical) {\n      props.setVertical(value);\n      console.log(value);\n    }\n  }\n\n  function handleScroll() {\n    let num = formatPc(props.vertical);\n\n    if (refs[num] !== null) {\n      console.log(refs[num]);\n      refs[num].current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n      });\n      console.log(refs[num].current.offsetHeight);\n    }\n  }\n\n  const max = 2020;\n  const min = props.minYear;\n  const verticalLabels = {\n    0: min,\n    100: max,\n  };\n\n  const formatPc = (p) => Math.floor(p * ((max - min) / 100) + min);\n\n  return (\n    <div className=\"slider\">\n      <Slider\n        value={props.vertical}\n        orientation=\"vertical\"\n        labels={verticalLabels}\n        handleLabel={formatPc(props.vertical)}\n        format={formatPc}\n        onChange={handleChangeVertical}\n        onChangeComplete={handleScroll}\n      />\n    </div>\n  );\n}\n\nexport default ControlSilder;\n","import \"./App.scss\";\nimport styles from \"./style/App.module.scss\";\nimport oscar from \"./oscar_best_film.json\";\nimport cannes from \"./CannesFilm.json\";\nimport goldenHorse from \"./golden_horse_best_film.json\";\nimport YearList from \"./components/YearList\";\nimport MovieInfo from \"./components/MovieInfo\";\nimport React, { useState, useEffect } from \"react\";\nimport MovirFilter from \"./components/MovieFilter\";\nimport ControlSilder from \"./components/ControlSlider\";\nimport firebase from \"firebase\";\nimport { config, apiKey, omdbKey } from \"./config\";\nimport \"firebase/firestore\";\n\nfirebase.initializeApp(config);\n\nfunction App() {\n   //  const db = firebase.firestore();\n   const initListState = [\n      {\n         title: \"奧斯卡金像獎\",\n         prize_name: \"最佳影片獎 Best Film\",\n         film_list: oscar,\n         prize: \"best_film\",\n         order: 0,\n      },\n      {\n         title: \"坎城影展\",\n         prize_name: \"金棕櫚獎\",\n         film_list: cannes,\n         prize: \"palme_d_or\",\n         order: 1,\n      },\n      {\n         title: \"金馬獎\",\n         prize_name: \"最佳影片獎\",\n         film_list: goldenHorse,\n         prize: \"best_film\",\n         order: 2,\n      },\n   ];\n   const [tmdbData, setData] = useState(\"\");\n   const [tmdbVideo, setVideo] = useState(\"\");\n   const [tmdbImages, setImages] = useState(\"\");\n   const [tmdbCredits, setCredits] = useState(\"\");\n   const [localData, renewData] = useState(\"\");\n   const [omdbData, setomdbData] = useState(\"\");\n   const [imdbSpan, setRating] = useState(\"\");\n\n   const [list, setList] = useState([]);\n   const [yearListRefs, setRefs] = useState(\"\");\n   const [listState, setlistState] = useState(initListState);\n   const [filmList, setFilmList] = useState(\"\");\n   const [prize, setPrize] = useState(\"\");\n\n   const [vertical, setVertical] = useState(100);\n   const [minYear, setMin] = useState(1928);\n\n   useEffect(() => {\n      const yearList = [];\n      //  根據 listStae 去把 yearList 給做出來\n      for (let i = 2020; i >= 1928; i--) {\n         let item = { year: i, list: [] };\n         yearList.push(item);\n      }\n\n      // 設定年份欄位的參考\n      const refs = yearList.reduce((acc, value) => {\n         acc[value.year] = React.createRef();\n         return acc;\n      }, {});\n\n      setRefs(refs);\n\n      listState.map((list) => fillYearList(yearList, list.film_list, list.prize, list.order));\n\n      // console.log(yearList);\n      setList(yearList);\n   }, [listState]);\n\n   // put movies to the correspondense year box\n   function fillYearList(yearList, fes, prize, order) {\n      let data = fes.filter((obj) => obj.prize === prize);\n\n      if (order === 0) {\n         yearList.forEach((yearbox) => {\n            data.forEach((item) => {\n               if (item.year === yearbox.year) {\n                  let filmPrize = [];\n\n                  // if one more movies won prize at the same year\n                  if (yearbox.list.length !== 0) {\n                     yearbox.list[0].push(item);\n                  } else {\n                     filmPrize.push(item);\n                     yearbox.list.push(filmPrize);\n                  }\n               }\n            });\n\n            // if the year don't have movie, set prize:null\n            if (yearbox.list.length === 0) {\n               let filmPrize = [{ prize: null }];\n               yearbox.list.push(filmPrize);\n            }\n         });\n      } else {\n         yearList.forEach((yearbox) => {\n            data.forEach((item) => {\n               if (item.year === yearbox.year) {\n                  let filmPrize = [];\n\n                  // if one more movies won prize at the same year\n                  if (yearbox.list.length > order) {\n                     yearbox.list[order].push(item);\n                  } else {\n                     filmPrize.push(item);\n                     yearbox.list.push(filmPrize);\n                  }\n               }\n            });\n\n            // if the year don't have movie, set prize:null\n            if (yearbox.list.length === order) {\n               let filmPrize = [{ prize: null }];\n               yearbox.list.push(filmPrize);\n            }\n         });\n      }\n   }\n\n   //  get tmdb movie detail & video\n   function tmdbApi(type, movie_id) {\n      return new Promise((resolve, reject) => {\n         const xhr = new XMLHttpRequest();\n         xhr.open(\"GET\", `https://api.themoviedb.org/3/movie/${movie_id}${type}?api_key=${apiKey}`);\n\n         xhr.onload = () => resolve(xhr.responseText);\n         xhr.onerror = () => reject(xhr.statusText);\n         xhr.send();\n      })\n         .then((response) => JSON.parse(response))\n         .then((data) => {\n            if (type === \"\") {\n               setData(data);\n            } else if (type === \"/videos\") {\n               setVideo(data);\n            } else if (type === \"/images\") {\n               setImages(data);\n            } else if (type === \"/credits\") {\n               setCredits(data);\n            }\n         });\n   }\n\n   //  get get imdb rating from omdb APi\n   function omdbApi(movie_id) {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", `https://www.omdbApi.com/?apikey=${omdbKey}&i=${movie_id}`, true);\n      xhr.onreadystatechange = function () {\n         if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {\n            let a = JSON.parse(xhr.responseText);\n            setomdbData(a);\n         }\n      };\n      xhr.send();\n   }\n\n   //  get get imdb rating from imdb page\n   function imdbRating(movie_id) {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\n         \"GET\",\n         `https://cors-anywhere.herokuapp.com/https://www.imdb.com/title/${movie_id}/?ref_=tt_sims_tt`,\n         true\n      );\n      xhr.onreadystatechange = function () {\n         if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {\n            let doc = new DOMParser().parseFromString(xhr.responseText, \"text/html\");\n            let elements = [...doc.getElementsByTagName(\"span\")];\n            let a = elements.filter((x) => !!x.getAttribute(\"itemprop\"));\n            setRating([a[0].innerText, a[2].innerText]);\n         }\n      };\n      xhr.send();\n   }\n\n   //  get movie id & data\n   //  function readData() {\n   //     console.log(value);\n   //     let ref = db.collection(\"cannes_film\").doc(\"palme_d_or\");\n\n   //     ref.get().then((doc) => {\n   //        setData(doc.data()[value]);\n   //        let movieId = posterData[\"movie_id\"];\n   //        console.log(movieId);\n   //        tmdbApi(movieId);\n   //        console.log(\"OK\");\n   //        setTitleZh(posterData[\"film_name_zh\"]);\n   //        setTitleEn(posterData[\"film_name_en\"]);\n   //     });\n   //  }\n   // console.log(listState);\n\n   return (\n      <div className={styles.outter}>\n         <aside>\n            <div className={styles.logo}>LOGO</div>\n\n            <ControlSilder\n               vertical={vertical}\n               setVertical={setVertical}\n               yearListRefs={yearListRefs}\n               minYear={minYear}\n            />\n         </aside>\n         <main>\n            <MovirFilter\n               filmList={filmList}\n               setFilmList={setFilmList}\n               prize={prize}\n               setPrize={setPrize}\n               yearlist={list}\n               yearListRefs={yearListRefs}\n               listState={listState}\n               setlistState={setlistState}\n            />\n\n            <div className={styles.container}>\n               <YearList\n                  prize={prize}\n                  tmdbApi={tmdbApi}\n                  omdbApi={omdbApi}\n                  imdbRating={imdbRating}\n                  renewData={renewData}\n                  yearlist={list}\n                  yearListRefs={yearListRefs}\n                  listState={listState}\n                  setlistState={setlistState}\n                  setMin={setMin}\n               />\n               <MovieInfo\n                  tmdbData={tmdbData}\n                  tmdbVideo={tmdbVideo}\n                  tmdbImages={tmdbImages}\n                  tmdbCredits={tmdbCredits}\n                  localData={localData}\n                  omdbData={omdbData}\n                  imdbSpan={imdbSpan}\n               />\n            </div>\n         </main>\n      </div>\n   );\n}\n\nexport default App;\n","// firebase SDK\nexport const config = {\n  apiKey: \"AIzaSyBmbHqONy7XHhbAJgi7XI8Zb6xrKcDQ9NM\",\n  authDomain: \"film-db-9936d.firebaseapp.com\",\n  databaseURL: \"https://film-db-9936d.firebaseio.com\",\n  projectId: \"film-db-9936d\",\n  storageBucket: \"film-db-9936d.appspot.com\",\n  messagingSenderId: \"340728739287\",\n  appId: \"1:340728739287:web:6a5a212fc24c2cd1b18792\",\n};\n\n// TMDb api key\nexport const apiKey = \"5c27dca1cd4fca2cefc5c8945cfb1974\";\n\n// OMDb api key\nexport const omdbKey = \"1bd03df3\";\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n// const LISTSTATE = [\n//    { film_list: \"cannes\", prize: \"palme_d_or\", order: 0 },\n//    { film_list: \"goldenHorse\", prize: \"best_film\", order: 1 },\n//    { film_list: \"cannes\", prize: \"un_certain_regard\", order: 2 },\n// ];\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"d-flex\":\"MovieInfo_d-flex__3-MOP\",\"d-block\":\"MovieInfo_d-block__1ciDL\",\"d-none\":\"MovieInfo_d-none__16Zcf\",\"align-item-center\":\"MovieInfo_align-item-center__IOKz6\",\"movieInfo\":\"MovieInfo_movieInfo__Fgw8N\",\"imageBox\":\"MovieInfo_imageBox__2Y8Ue\",\"notFound\":\"MovieInfo_notFound__3sPJa\",\"infoBox\":\"MovieInfo_infoBox__28s0D\",\"rating\":\"MovieInfo_rating__1Pkh-\",\"videoBtn\":\"MovieInfo_videoBtn__1Fmqz\",\"noVideo\":\"MovieInfo_noVideo__G5AgR\",\"videoDiv\":\"MovieInfo_videoDiv__3XBc_\",\"closeBtn\":\"MovieInfo_closeBtn__1p677\",\"castBox\":\"MovieInfo_castBox__1yWO-\",\"castPic\":\"MovieInfo_castPic__1Nj1N\"};"],"sourceRoot":""}